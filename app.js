import e from"./assets/Header.mjs";import t from"./assets/Router.mjs";import r from"./assets/Section.mjs";import n from"./assets/dataHandler.mjs";import s from"./assets/footer.mjs";import a from"./assets/rider.mjs";class App{constructor(){this.data=null,t.instance.subscribe(this.onRoutChanged.bind(this))}cleanApp(){let e=document.querySelector(".app");e&&document.querySelector("body").removeChild(e)}onRoutChanged(e){this.render(e)}componentToRender(e){if(null===e||"/"===e.link)return new r(this.data).render();if(e.link.includes("/rider?id")){let t=this.data.find(t=>t.id==e.link.split("=")[1]);if(t)return new a(t).render()}return'<h1 class="text-center">"Page not found"</h1>'}async render(t=null){null==this.data&&(this.data=await n.instance.fetchData()),this.cleanApp();let r=document.createElement("main"),a=document.createDocumentFragment();r.classList.add("app"),r.innerHTML=`
            ${new e(this.data).render()}
            ${this.componentToRender(t)}
            ${new s().render()}
        `,a.appendChild(r),document.querySelector("body").appendChild(a.firstElementChild)}}let app=new App;app.render();